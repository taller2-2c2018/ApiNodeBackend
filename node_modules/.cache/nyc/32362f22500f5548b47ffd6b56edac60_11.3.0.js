'use strict';var cov_1skxrhixdm=function(){var path='/usr/src/tests/services/usuarioService_test.js',hash='c26ad6cab8c69e3746a6c5e2c948712887deb8fb',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/usr/src/tests/services/usuarioService_test.js',statementMap:{'0':{start:{line:2,column:0},end:{line:2,column:45}},'1':{start:{line:3,column:13},end:{line:3,column:35}},'2':{start:{line:4,column:15},end:{line:4,column:40}},'3':{start:{line:5,column:9},end:{line:5,column:28}},'4':{start:{line:6,column:13},end:{line:6,column:46}},'5':{start:{line:7,column:23},end:{line:7,column:71}},'6':{start:{line:10,column:22},end:{line:10,column:23}},'7':{start:{line:11,column:18},end:{line:11,column:19}},'8':{start:{line:13,column:0},end:{line:238,column:2}},'9':{start:{line:14,column:2},end:{line:19,column:4}},'10':{start:{line:15,column:4},end:{line:18,column:6}},'11':{start:{line:16,column:6},end:{line:16,column:51}},'12':{start:{line:17,column:6},end:{line:17,column:12}},'13':{start:{line:20,column:2},end:{line:33,column:4}},'14':{start:{line:21,column:17},end:{line:21,column:28}},'15':{start:{line:22,column:16},end:{line:22,column:31}},'16':{start:{line:23,column:21},end:{line:23,column:36}},'17':{start:{line:24,column:14},end:{line:24,column:28}},'18':{start:{line:25,column:19},end:{line:25,column:33}},'19':{start:{line:26,column:4},end:{line:32,column:6}},'20':{start:{line:27,column:6},end:{line:27,column:57}},'21':{start:{line:28,column:6},end:{line:28,column:34}},'22':{start:{line:29,column:6},end:{line:29,column:77}},'23':{start:{line:30,column:6},end:{line:30,column:74}},'24':{start:{line:31,column:6},end:{line:31,column:12}},'25':{start:{line:34,column:2},end:{line:42,column:4}},'26':{start:{line:35,column:16},end:{line:37,column:5}},'27':{start:{line:38,column:4},end:{line:41,column:6}},'28':{start:{line:39,column:6},end:{line:39,column:90}},'29':{start:{line:40,column:6},end:{line:40,column:12}},'30':{start:{line:43,column:2},end:{line:59,column:4}},'31':{start:{line:44,column:22},end:{line:44,column:42}},'32':{start:{line:45,column:21},end:{line:45,column:37}},'33':{start:{line:46,column:16},end:{line:52,column:5}},'34':{start:{line:53,column:4},end:{line:58,column:6}},'35':{start:{line:54,column:6},end:{line:54,column:79}},'36':{start:{line:55,column:6},end:{line:55,column:82}},'37':{start:{line:56,column:6},end:{line:56,column:92}},'38':{start:{line:57,column:6},end:{line:57,column:12}},'39':{start:{line:60,column:2},end:{line:69,column:4}},'40':{start:{line:61,column:16},end:{line:64,column:5}},'41':{start:{line:65,column:4},end:{line:68,column:6}},'42':{start:{line:66,column:6},end:{line:66,column:90}},'43':{start:{line:67,column:6},end:{line:67,column:12}},'44':{start:{line:70,column:2},end:{line:78,column:4}},'45':{start:{line:71,column:16},end:{line:73,column:5}},'46':{start:{line:74,column:4},end:{line:77,column:6}},'47':{start:{line:75,column:6},end:{line:75,column:90}},'48':{start:{line:76,column:6},end:{line:76,column:12}},'49':{start:{line:79,column:2},end:{line:89,column:4}},'50':{start:{line:80,column:17},end:{line:80,column:28}},'51':{start:{line:81,column:16},end:{line:81,column:31}},'52':{start:{line:82,column:21},end:{line:82,column:36}},'53':{start:{line:83,column:14},end:{line:83,column:28}},'54':{start:{line:84,column:19},end:{line:84,column:33}},'55':{start:{line:85,column:4},end:{line:88,column:6}},'56':{start:{line:86,column:6},end:{line:86,column:93}},'57':{start:{line:87,column:6},end:{line:87,column:12}},'58':{start:{line:90,column:2},end:{line:100,column:4}},'59':{start:{line:91,column:17},end:{line:91,column:28}},'60':{start:{line:92,column:16},end:{line:92,column:31}},'61':{start:{line:93,column:21},end:{line:93,column:45}},'62':{start:{line:94,column:14},end:{line:94,column:28}},'63':{start:{line:95,column:19},end:{line:95,column:33}},'64':{start:{line:96,column:4},end:{line:99,column:6}},'65':{start:{line:97,column:6},end:{line:97,column:93}},'66':{start:{line:98,column:6},end:{line:98,column:12}},'67':{start:{line:101,column:2},end:{line:111,column:4}},'68':{start:{line:102,column:17},end:{line:102,column:28}},'69':{start:{line:103,column:16},end:{line:103,column:31}},'70':{start:{line:104,column:21},end:{line:104,column:36}},'71':{start:{line:105,column:14},end:{line:105,column:28}},'72':{start:{line:106,column:19},end:{line:106,column:42}},'73':{start:{line:107,column:4},end:{line:110,column:6}},'74':{start:{line:108,column:6},end:{line:108,column:93}},'75':{start:{line:109,column:6},end:{line:109,column:12}},'76':{start:{line:112,column:2},end:{line:117,column:4}},'77':{start:{line:113,column:4},end:{line:116,column:6}},'78':{start:{line:114,column:6},end:{line:114,column:68}},'79':{start:{line:115,column:6},end:{line:115,column:12}},'80':{start:{line:119,column:2},end:{line:132,column:4}},'81':{start:{line:120,column:4},end:{line:131,column:6}},'82':{start:{line:124,column:6},end:{line:124,column:26}},'83':{start:{line:125,column:6},end:{line:130,column:8}},'84':{start:{line:126,column:8},end:{line:129,column:10}},'85':{start:{line:127,column:10},end:{line:127,column:68}},'86':{start:{line:128,column:10},end:{line:128,column:16}},'87':{start:{line:134,column:2},end:{line:139,column:4}},'88':{start:{line:135,column:4},end:{line:138,column:6}},'89':{start:{line:136,column:6},end:{line:136,column:60}},'90':{start:{line:137,column:6},end:{line:137,column:12}},'91':{start:{line:140,column:2},end:{line:145,column:4}},'92':{start:{line:141,column:4},end:{line:144,column:6}},'93':{start:{line:142,column:6},end:{line:142,column:72}},'94':{start:{line:143,column:6},end:{line:143,column:12}},'95':{start:{line:146,column:2},end:{line:151,column:4}},'96':{start:{line:147,column:4},end:{line:150,column:6}},'97':{start:{line:148,column:6},end:{line:148,column:68}},'98':{start:{line:149,column:6},end:{line:149,column:12}},'99':{start:{line:152,column:2},end:{line:159,column:4}},'100':{start:{line:153,column:4},end:{line:158,column:6}},'101':{start:{line:154,column:6},end:{line:157,column:8}},'102':{start:{line:155,column:8},end:{line:155,column:60}},'103':{start:{line:156,column:8},end:{line:156,column:14}},'104':{start:{line:161,column:2},end:{line:166,column:4}},'105':{start:{line:162,column:4},end:{line:165,column:6}},'106':{start:{line:163,column:6},end:{line:163,column:57}},'107':{start:{line:164,column:6},end:{line:164,column:12}},'108':{start:{line:168,column:2},end:{line:173,column:4}},'109':{start:{line:169,column:4},end:{line:172,column:6}},'110':{start:{line:170,column:6},end:{line:170,column:60}},'111':{start:{line:171,column:6},end:{line:171,column:12}},'112':{start:{line:174,column:2},end:{line:179,column:4}},'113':{start:{line:175,column:4},end:{line:178,column:6}},'114':{start:{line:176,column:6},end:{line:176,column:60}},'115':{start:{line:177,column:6},end:{line:177,column:12}},'116':{start:{line:180,column:2},end:{line:196,column:4}},'117':{start:{line:181,column:17},end:{line:181,column:29}},'118':{start:{line:182,column:16},end:{line:182,column:32}},'119':{start:{line:183,column:21},end:{line:183,column:37}},'120':{start:{line:184,column:14},end:{line:184,column:28}},'121':{start:{line:185,column:19},end:{line:185,column:33}},'122':{start:{line:186,column:19},end:{line:186,column:29}},'123':{start:{line:187,column:18},end:{line:187,column:30}},'124':{start:{line:188,column:4},end:{line:195,column:6}},'125':{start:{line:189,column:6},end:{line:189,column:57}},'126':{start:{line:190,column:6},end:{line:190,column:77}},'127':{start:{line:191,column:6},end:{line:191,column:74}},'128':{start:{line:192,column:6},end:{line:192,column:83}},'129':{start:{line:193,column:6},end:{line:193,column:80}},'130':{start:{line:194,column:6},end:{line:194,column:12}},'131':{start:{line:197,column:2},end:{line:212,column:4}},'132':{start:{line:198,column:17},end:{line:198,column:29}},'133':{start:{line:199,column:16},end:{line:199,column:32}},'134':{start:{line:200,column:21},end:{line:200,column:37}},'135':{start:{line:201,column:14},end:{line:201,column:28}},'136':{start:{line:202,column:19},end:{line:202,column:33}},'137':{start:{line:203,column:19},end:{line:203,column:29}},'138':{start:{line:204,column:4},end:{line:211,column:6}},'139':{start:{line:205,column:6},end:{line:205,column:57}},'140':{start:{line:206,column:6},end:{line:206,column:34}},'141':{start:{line:207,column:6},end:{line:207,column:77}},'142':{start:{line:208,column:6},end:{line:208,column:74}},'143':{start:{line:209,column:6},end:{line:209,column:83}},'144':{start:{line:210,column:6},end:{line:210,column:12}},'145':{start:{line:213,column:2},end:{line:223,column:4}},'146':{start:{line:214,column:26},end:{line:214,column:41}},'147':{start:{line:215,column:16},end:{line:217,column:5}},'148':{start:{line:218,column:4},end:{line:222,column:6}},'149':{start:{line:219,column:6},end:{line:219,column:79}},'150':{start:{line:220,column:6},end:{line:220,column:88}},'151':{start:{line:221,column:6},end:{line:221,column:12}},'152':{start:{line:224,column:2},end:{line:237,column:4}},'153':{start:{line:225,column:25},end:{line:225,column:40}},'154':{start:{line:226,column:26},end:{line:226,column:36}},'155':{start:{line:227,column:16},end:{line:230,column:5}},'156':{start:{line:231,column:4},end:{line:236,column:6}},'157':{start:{line:232,column:6},end:{line:232,column:79}},'158':{start:{line:233,column:6},end:{line:233,column:85}},'159':{start:{line:234,column:6},end:{line:234,column:88}},'160':{start:{line:235,column:6},end:{line:235,column:12}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:13,column:48},end:{line:13,column:49}},loc:{start:{line:13,column:60},end:{line:238,column:1}},line:13},'1':{name:'(anonymous_1)',decl:{start:{line:14,column:41},end:{line:14,column:42}},loc:{start:{line:14,column:57},end:{line:19,column:3}},line:14},'2':{name:'(anonymous_2)',decl:{start:{line:15,column:38},end:{line:15,column:39}},loc:{start:{line:15,column:51},end:{line:18,column:5}},line:15},'3':{name:'(anonymous_3)',decl:{start:{line:20,column:27},end:{line:20,column:28}},loc:{start:{line:20,column:43},end:{line:33,column:3}},line:20},'4':{name:'(anonymous_4)',decl:{start:{line:26,column:73},end:{line:26,column:74}},loc:{start:{line:26,column:86},end:{line:32,column:5}},line:26},'5':{name:'(anonymous_5)',decl:{start:{line:34,column:38},end:{line:34,column:39}},loc:{start:{line:34,column:54},end:{line:42,column:3}},line:34},'6':{name:'(anonymous_6)',decl:{start:{line:38,column:43},end:{line:38,column:44}},loc:{start:{line:38,column:50},end:{line:41,column:5}},line:38},'7':{name:'(anonymous_7)',decl:{start:{line:43,column:35},end:{line:43,column:36}},loc:{start:{line:43,column:51},end:{line:59,column:3}},line:43},'8':{name:'(anonymous_8)',decl:{start:{line:53,column:55},end:{line:53,column:56}},loc:{start:{line:53,column:68},end:{line:58,column:5}},line:53},'9':{name:'(anonymous_9)',decl:{start:{line:60,column:41},end:{line:60,column:42}},loc:{start:{line:60,column:57},end:{line:69,column:3}},line:60},'10':{name:'(anonymous_10)',decl:{start:{line:65,column:56},end:{line:65,column:57}},loc:{start:{line:65,column:63},end:{line:68,column:5}},line:65},'11':{name:'(anonymous_11)',decl:{start:{line:70,column:41},end:{line:70,column:42}},loc:{start:{line:70,column:57},end:{line:78,column:3}},line:70},'12':{name:'(anonymous_12)',decl:{start:{line:74,column:56},end:{line:74,column:57}},loc:{start:{line:74,column:63},end:{line:77,column:5}},line:74},'13':{name:'(anonymous_13)',decl:{start:{line:79,column:42},end:{line:79,column:43}},loc:{start:{line:79,column:58},end:{line:89,column:3}},line:79},'14':{name:'(anonymous_14)',decl:{start:{line:85,column:74},end:{line:85,column:75}},loc:{start:{line:85,column:81},end:{line:88,column:5}},line:85},'15':{name:'(anonymous_15)',decl:{start:{line:90,column:45},end:{line:90,column:46}},loc:{start:{line:90,column:61},end:{line:100,column:3}},line:90},'16':{name:'(anonymous_16)',decl:{start:{line:96,column:74},end:{line:96,column:75}},loc:{start:{line:96,column:81},end:{line:99,column:5}},line:96},'17':{name:'(anonymous_17)',decl:{start:{line:101,column:48},end:{line:101,column:49}},loc:{start:{line:101,column:64},end:{line:111,column:3}},line:101},'18':{name:'(anonymous_18)',decl:{start:{line:107,column:74},end:{line:107,column:75}},loc:{start:{line:107,column:81},end:{line:110,column:5}},line:107},'19':{name:'(anonymous_19)',decl:{start:{line:112,column:41},end:{line:112,column:42}},loc:{start:{line:112,column:57},end:{line:117,column:3}},line:112},'20':{name:'(anonymous_20)',decl:{start:{line:113,column:50},end:{line:113,column:51}},loc:{start:{line:113,column:69},end:{line:116,column:5}},line:113},'21':{name:'(anonymous_21)',decl:{start:{line:119,column:46},end:{line:119,column:47}},loc:{start:{line:119,column:62},end:{line:132,column:3}},line:119},'22':{name:'(anonymous_22)',decl:{start:{line:123,column:12},end:{line:123,column:13}},loc:{start:{line:123,column:27},end:{line:131,column:5}},line:123},'23':{name:'(anonymous_23)',decl:{start:{line:125,column:67},end:{line:125,column:68}},loc:{start:{line:125,column:80},end:{line:130,column:7}},line:125},'24':{name:'(anonymous_24)',decl:{start:{line:126,column:32},end:{line:126,column:33}},loc:{start:{line:126,column:43},end:{line:129,column:9}},line:126},'25':{name:'(anonymous_25)',decl:{start:{line:134,column:52},end:{line:134,column:53}},loc:{start:{line:134,column:68},end:{line:139,column:3}},line:134},'26':{name:'(anonymous_26)',decl:{start:{line:135,column:66},end:{line:135,column:67}},loc:{start:{line:135,column:73},end:{line:138,column:5}},line:135},'27':{name:'(anonymous_27)',decl:{start:{line:140,column:50},end:{line:140,column:51}},loc:{start:{line:140,column:66},end:{line:145,column:3}},line:140},'28':{name:'(anonymous_28)',decl:{start:{line:141,column:53},end:{line:141,column:54}},loc:{start:{line:141,column:60},end:{line:144,column:5}},line:141},'29':{name:'(anonymous_29)',decl:{start:{line:146,column:61},end:{line:146,column:62}},loc:{start:{line:146,column:77},end:{line:151,column:3}},line:146},'30':{name:'(anonymous_30)',decl:{start:{line:147,column:57},end:{line:147,column:58}},loc:{start:{line:147,column:64},end:{line:150,column:5}},line:147},'31':{name:'(anonymous_31)',decl:{start:{line:152,column:51},end:{line:152,column:52}},loc:{start:{line:152,column:67},end:{line:159,column:3}},line:152},'32':{name:'(anonymous_32)',decl:{start:{line:153,column:68},end:{line:153,column:69}},loc:{start:{line:153,column:81},end:{line:158,column:5}},line:153},'33':{name:'(anonymous_33)',decl:{start:{line:154,column:30},end:{line:154,column:31}},loc:{start:{line:154,column:41},end:{line:157,column:7}},line:154},'34':{name:'(anonymous_34)',decl:{start:{line:161,column:51},end:{line:161,column:52}},loc:{start:{line:161,column:67},end:{line:166,column:3}},line:161},'35':{name:'(anonymous_35)',decl:{start:{line:162,column:69},end:{line:162,column:70}},loc:{start:{line:162,column:76},end:{line:165,column:5}},line:162},'36':{name:'(anonymous_36)',decl:{start:{line:168,column:49},end:{line:168,column:50}},loc:{start:{line:168,column:65},end:{line:173,column:3}},line:168},'37':{name:'(anonymous_37)',decl:{start:{line:169,column:56},end:{line:169,column:57}},loc:{start:{line:169,column:63},end:{line:172,column:5}},line:169},'38':{name:'(anonymous_38)',decl:{start:{line:174,column:50},end:{line:174,column:51}},loc:{start:{line:174,column:66},end:{line:179,column:3}},line:174},'39':{name:'(anonymous_39)',decl:{start:{line:175,column:60},end:{line:175,column:61}},loc:{start:{line:175,column:67},end:{line:178,column:5}},line:175},'40':{name:'(anonymous_40)',decl:{start:{line:180,column:50},end:{line:180,column:51}},loc:{start:{line:180,column:66},end:{line:196,column:3}},line:180},'41':{name:'(anonymous_41)',decl:{start:{line:188,column:90},end:{line:188,column:91}},loc:{start:{line:188,column:103},end:{line:195,column:5}},line:188},'42':{name:'(anonymous_42)',decl:{start:{line:197,column:51},end:{line:197,column:52}},loc:{start:{line:197,column:67},end:{line:212,column:3}},line:197},'43':{name:'(anonymous_43)',decl:{start:{line:204,column:82},end:{line:204,column:83}},loc:{start:{line:204,column:95},end:{line:211,column:5}},line:204},'44':{name:'(anonymous_44)',decl:{start:{line:213,column:38},end:{line:213,column:39}},loc:{start:{line:213,column:54},end:{line:223,column:3}},line:213},'45':{name:'(anonymous_45)',decl:{start:{line:218,column:55},end:{line:218,column:56}},loc:{start:{line:218,column:68},end:{line:222,column:5}},line:218},'46':{name:'(anonymous_46)',decl:{start:{line:224,column:44},end:{line:224,column:45}},loc:{start:{line:224,column:60},end:{line:237,column:3}},line:224},'47':{name:'(anonymous_47)',decl:{start:{line:231,column:55},end:{line:231,column:56}},loc:{start:{line:231,column:68},end:{line:236,column:5}},line:231}},branchMap:{},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0},b:{},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1skxrhixdm.s[0]++;require('dotenv').config({path:'.env.test'});let assert=(cov_1skxrhixdm.s[1]++,require('chai').assert);let describe=(cov_1skxrhixdm.s[2]++,require('mocha').describe);let it=(cov_1skxrhixdm.s[3]++,require('mocha').it);let models=(cov_1skxrhixdm.s[4]++,require('../../models/sequelize'));const usuarioService=(cov_1skxrhixdm.s[5]++,require('../../services/usuarioService')(models));var idUsuarioCreado=(cov_1skxrhixdm.s[6]++,1);var idRolCreado=(cov_1skxrhixdm.s[7]++,1);cov_1skxrhixdm.s[8]++;describe('Verificaciones sobre UsuarioService',function(){cov_1skxrhixdm.f[0]++;cov_1skxrhixdm.s[9]++;it('Obtener un usuario que no existe',function(done){cov_1skxrhixdm.f[1]++;cov_1skxrhixdm.s[10]++;usuarioService.findById(-1).catch(function(e){cov_1skxrhixdm.f[2]++;cov_1skxrhixdm.s[11]++;assert(e.status===404,'El usuario existe');cov_1skxrhixdm.s[12]++;done();});});cov_1skxrhixdm.s[13]++;it('Agregar un usuario',function(done){cov_1skxrhixdm.f[3]++;let nombre=(cov_1skxrhixdm.s[14]++,'username!');let email=(cov_1skxrhixdm.s[15]++,'mail@mail.com');let verifEmail=(cov_1skxrhixdm.s[16]++,'mail@mail.com');let psw=(cov_1skxrhixdm.s[17]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[18]++,'mySecretpass');cov_1skxrhixdm.s[19]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw).then(usuario=>{cov_1skxrhixdm.f[4]++;cov_1skxrhixdm.s[20]++;assert(usuario.id!==null,'El usuario no existe');cov_1skxrhixdm.s[21]++;idUsuarioCreado=usuario.id;cov_1skxrhixdm.s[22]++;assert(usuario.nombre===nombre,'El usuario no tiene bien el nombre');cov_1skxrhixdm.s[23]++;assert(usuario.email===email,'El usuario no tiene bien el email');cov_1skxrhixdm.s[24]++;done();});});cov_1skxrhixdm.s[25]++;it('Modificar usuario inexistente',function(done){cov_1skxrhixdm.f[5]++;let patch=(cov_1skxrhixdm.s[26]++,{'nombre':'un nombre'});cov_1skxrhixdm.s[27]++;usuarioService.update(-1,patch).catch(e=>{cov_1skxrhixdm.f[6]++;cov_1skxrhixdm.s[28]++;assert(e.status===404,'Deberia haber dado conflicto porque no existe el usuario');cov_1skxrhixdm.s[29]++;done();});});cov_1skxrhixdm.s[30]++;it('Modificar usuario password',function(done){cov_1skxrhixdm.f[7]++;let nuevoNombre=(cov_1skxrhixdm.s[31]++,'Nuevo nombre largo');let nuevoEmail=(cov_1skxrhixdm.s[32]++,'new@new.com.ar');let patch=(cov_1skxrhixdm.s[33]++,{password:'nuevoPass',verificacion_password:'nuevoPass',nombre:nuevoNombre,email:nuevoEmail,verificacion_email:nuevoEmail});cov_1skxrhixdm.s[34]++;usuarioService.update(idUsuarioCreado,patch).then(usuario=>{cov_1skxrhixdm.f[8]++;cov_1skxrhixdm.s[35]++;assert(usuario.id===idUsuarioCreado,'No encontro el usuario correcto');cov_1skxrhixdm.s[36]++;assert(usuario.nombre===nuevoNombre,'El usuario no tiene bien el nombre');cov_1skxrhixdm.s[37]++;assert(usuario.email!==nuevoEmail,'El usuario no deberia cambiar su mail y cambio');cov_1skxrhixdm.s[38]++;done();});});cov_1skxrhixdm.s[39]++;it('Modificar usuario password mal 1',function(done){cov_1skxrhixdm.f[9]++;let patch=(cov_1skxrhixdm.s[40]++,{password:'nuevoPass',verificacion_password:'nuevoPassMal'});cov_1skxrhixdm.s[41]++;usuarioService.update(idUsuarioCreado,patch).catch(e=>{cov_1skxrhixdm.f[10]++;cov_1skxrhixdm.s[42]++;assert(e.status===500,'Deberia haber dado conflicto porque no existe el usuario');cov_1skxrhixdm.s[43]++;done();});});cov_1skxrhixdm.s[44]++;it('Modificar usuario password mal 2',function(done){cov_1skxrhixdm.f[11]++;let patch=(cov_1skxrhixdm.s[45]++,{password:'nuevoPass'});cov_1skxrhixdm.s[46]++;usuarioService.update(idUsuarioCreado,patch).catch(e=>{cov_1skxrhixdm.f[12]++;cov_1skxrhixdm.s[47]++;assert(e.status===500,'Deberia haber dado conflicto porque no existe el usuario');cov_1skxrhixdm.s[48]++;done();});});cov_1skxrhixdm.s[49]++;it('Agregar un usuario email repetido',function(done){cov_1skxrhixdm.f[13]++;let nombre=(cov_1skxrhixdm.s[50]++,'username!');let email=(cov_1skxrhixdm.s[51]++,'mail@mail.com');let verifEmail=(cov_1skxrhixdm.s[52]++,'mail@mail.com');let psw=(cov_1skxrhixdm.s[53]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[54]++,'mySecretpass');cov_1skxrhixdm.s[55]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw).catch(e=>{cov_1skxrhixdm.f[14]++;cov_1skxrhixdm.s[56]++;assert(e.status===500,'Deberia haber dado conflicto por email repetido y no lo dio');cov_1skxrhixdm.s[57]++;done();});});cov_1skxrhixdm.s[58]++;it('Agregar un usuario email no coincide',function(done){cov_1skxrhixdm.f[15]++;let nombre=(cov_1skxrhixdm.s[59]++,'username!');let email=(cov_1skxrhixdm.s[60]++,'mail@mail.com');let verifEmail=(cov_1skxrhixdm.s[61]++,'mail@mail.com'+'errr');let psw=(cov_1skxrhixdm.s[62]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[63]++,'mySecretpass');cov_1skxrhixdm.s[64]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw).catch(e=>{cov_1skxrhixdm.f[16]++;cov_1skxrhixdm.s[65]++;assert(e.status===409,'Deberia haber dado conflicto por email repetido y no lo dio');cov_1skxrhixdm.s[66]++;done();});});cov_1skxrhixdm.s[67]++;it('Agregar un usuario password no coincide',function(done){cov_1skxrhixdm.f[17]++;let nombre=(cov_1skxrhixdm.s[68]++,'username!');let email=(cov_1skxrhixdm.s[69]++,'mail@mail.com');let verifEmail=(cov_1skxrhixdm.s[70]++,'mail@mail.com');let psw=(cov_1skxrhixdm.s[71]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[72]++,'mySecretpass'+'errr');cov_1skxrhixdm.s[73]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw).catch(e=>{cov_1skxrhixdm.f[18]++;cov_1skxrhixdm.s[74]++;assert(e.status===409,'Deberia haber dado conflicto por email repetido y no lo dio');cov_1skxrhixdm.s[75]++;done();});});cov_1skxrhixdm.s[76]++;it('Obtener un usuario recien creado',function(done){cov_1skxrhixdm.f[19]++;cov_1skxrhixdm.s[77]++;usuarioService.findById(idUsuarioCreado).then(function(usuario){cov_1skxrhixdm.f[20]++;cov_1skxrhixdm.s[78]++;assert(usuario.id===idUsuarioCreado,'El usuario no existe');cov_1skxrhixdm.s[79]++;done();});});cov_1skxrhixdm.s[80]++;it('agregar un rol a un usuario existenta',function(done){cov_1skxrhixdm.f[21]++;cov_1skxrhixdm.s[81]++;models.Rol.create({nombre:'nombreRol',descripcion:'descripcionRol'}).then(function(rol){cov_1skxrhixdm.f[22]++;cov_1skxrhixdm.s[82]++;idRolCreado=rol.id;cov_1skxrhixdm.s[83]++;usuarioService.addRolById(idUsuarioCreado,idRolCreado).then(usuario=>{cov_1skxrhixdm.f[23]++;cov_1skxrhixdm.s[84]++;usuario.getRoles().then(roles=>{cov_1skxrhixdm.f[24]++;cov_1skxrhixdm.s[85]++;assert(roles[0].id===idRolCreado,'No se agrego el rol');cov_1skxrhixdm.s[86]++;done();});});});});cov_1skxrhixdm.s[87]++;it('agregar un rol a un usuario que ya lo tiene',function(done){cov_1skxrhixdm.f[25]++;cov_1skxrhixdm.s[88]++;usuarioService.addRolById(idUsuarioCreado,idRolCreado).catch(e=>{cov_1skxrhixdm.f[26]++;cov_1skxrhixdm.s[89]++;assert(e.status===409,'El usuario no tiene el rol');cov_1skxrhixdm.s[90]++;done();});});cov_1skxrhixdm.s[91]++;it('agregar un rol a un usuario que no existe',function(done){cov_1skxrhixdm.f[27]++;cov_1skxrhixdm.s[92]++;usuarioService.addRolById(-1,idRolCreado).catch(e=>{cov_1skxrhixdm.f[28]++;cov_1skxrhixdm.s[93]++;assert(e.status===404,'No se detecta que el usuario no existe');cov_1skxrhixdm.s[94]++;done();});});cov_1skxrhixdm.s[95]++;it('agregar un rol que no existe a un usuario que existe',function(done){cov_1skxrhixdm.f[29]++;cov_1skxrhixdm.s[96]++;usuarioService.addRolById(idUsuarioCreado,-1).catch(e=>{cov_1skxrhixdm.f[30]++;cov_1skxrhixdm.s[97]++;assert(e.status===404,'No se detecta que el rol no existe');cov_1skxrhixdm.s[98]++;done();});});cov_1skxrhixdm.s[99]++;it('borrar un rol a un usuario que ya lo tiene',function(done){cov_1skxrhixdm.f[31]++;cov_1skxrhixdm.s[100]++;usuarioService.deleteRolById(idUsuarioCreado,idRolCreado).then(usuario=>{cov_1skxrhixdm.f[32]++;cov_1skxrhixdm.s[101]++;usuario.getRoles().then(roles=>{cov_1skxrhixdm.f[33]++;cov_1skxrhixdm.s[102]++;assert(roles[0]===undefined,'No se borro el rol');cov_1skxrhixdm.s[103]++;done();});});});cov_1skxrhixdm.s[104]++;it('Borrar un rol a un usuario que no lo tiene',function(done){cov_1skxrhixdm.f[34]++;cov_1skxrhixdm.s[105]++;usuarioService.deleteRolById(idUsuarioCreado,idRolCreado).catch(e=>{cov_1skxrhixdm.f[35]++;cov_1skxrhixdm.s[106]++;assert(e.status===409,'El usuario tiene el rol');cov_1skxrhixdm.s[107]++;done();});});cov_1skxrhixdm.s[108]++;it('Borrar un rol a un usuario que no existe',function(done){cov_1skxrhixdm.f[36]++;cov_1skxrhixdm.s[109]++;usuarioService.deleteRolById(-1,idRolCreado).catch(e=>{cov_1skxrhixdm.f[37]++;cov_1skxrhixdm.s[110]++;assert(e.status===404,'El usuario no tiene el rol');cov_1skxrhixdm.s[111]++;done();});});cov_1skxrhixdm.s[112]++;it('Borrar un rol que no existe a un usuario ',function(done){cov_1skxrhixdm.f[38]++;cov_1skxrhixdm.s[113]++;usuarioService.deleteRolById(idUsuarioCreado,-1).catch(e=>{cov_1skxrhixdm.f[39]++;cov_1skxrhixdm.s[114]++;assert(e.status===404,'El usuario no tiene el rol');cov_1skxrhixdm.s[115]++;done();});});cov_1skxrhixdm.s[116]++;it('Agregar un usuario con telefono y celular',function(done){cov_1skxrhixdm.f[40]++;let nombre=(cov_1skxrhixdm.s[117]++,'username3!');let email=(cov_1skxrhixdm.s[118]++,'mail3@mail.com');let verifEmail=(cov_1skxrhixdm.s[119]++,'mail3@mail.com');let psw=(cov_1skxrhixdm.s[120]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[121]++,'mySecretpass');let telefono=(cov_1skxrhixdm.s[122]++,'46210911');let celular=(cov_1skxrhixdm.s[123]++,'1535634675');cov_1skxrhixdm.s[124]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw,telefono,celular).then(usuario=>{cov_1skxrhixdm.f[41]++;cov_1skxrhixdm.s[125]++;assert(usuario.id!==null,'El usuario no existe');cov_1skxrhixdm.s[126]++;assert(usuario.nombre===nombre,'El usuario no tiene bien el nombre');cov_1skxrhixdm.s[127]++;assert(usuario.email===email,'El usuario no tiene bien el email');cov_1skxrhixdm.s[128]++;assert(usuario.telefono===telefono,'El usuario no tiene bien el telefono');cov_1skxrhixdm.s[129]++;assert(usuario.celular===celular,'El usuario no tiene bien el celular');cov_1skxrhixdm.s[130]++;done();});});cov_1skxrhixdm.s[131]++;it('Agregar un usuario con telefono unicamente',function(done){cov_1skxrhixdm.f[42]++;let nombre=(cov_1skxrhixdm.s[132]++,'username2!');let email=(cov_1skxrhixdm.s[133]++,'mail2@mail.com');let verifEmail=(cov_1skxrhixdm.s[134]++,'mail2@mail.com');let psw=(cov_1skxrhixdm.s[135]++,'mySecretpass');let verifPsw=(cov_1skxrhixdm.s[136]++,'mySecretpass');let telefono=(cov_1skxrhixdm.s[137]++,'46210911');cov_1skxrhixdm.s[138]++;usuarioService.create(nombre,email,verifEmail,psw,verifPsw,telefono).then(usuario=>{cov_1skxrhixdm.f[43]++;cov_1skxrhixdm.s[139]++;assert(usuario.id!==null,'El usuario no existe');cov_1skxrhixdm.s[140]++;idUsuarioCreado=usuario.id;cov_1skxrhixdm.s[141]++;assert(usuario.nombre===nombre,'El usuario no tiene bien el nombre');cov_1skxrhixdm.s[142]++;assert(usuario.email===email,'El usuario no tiene bien el email');cov_1skxrhixdm.s[143]++;assert(usuario.telefono===telefono,'El usuario no tiene bien el telefono');cov_1skxrhixdm.s[144]++;done();});});cov_1skxrhixdm.s[145]++;it('Modificar telefono de usuario',function(done){cov_1skxrhixdm.f[44]++;const telefonoNuevo=(cov_1skxrhixdm.s[146]++,'(011)42610910');let patch=(cov_1skxrhixdm.s[147]++,{'telefono':telefonoNuevo});cov_1skxrhixdm.s[148]++;usuarioService.update(idUsuarioCreado,patch).then(usuario=>{cov_1skxrhixdm.f[45]++;cov_1skxrhixdm.s[149]++;assert(usuario.id===idUsuarioCreado,'No encontro el usuario correcto');cov_1skxrhixdm.s[150]++;assert(usuario.telefono===telefonoNuevo,'El usuario no tiene bien el telefono');cov_1skxrhixdm.s[151]++;done();});});cov_1skxrhixdm.s[152]++;it('Agregar celular a un usuario creado',function(done){cov_1skxrhixdm.f[46]++;const celularNuevo=(cov_1skxrhixdm.s[153]++,'(011)42610910');const telefonoNuevo=(cov_1skxrhixdm.s[154]++,'45678741');let patch=(cov_1skxrhixdm.s[155]++,{'celular':celularNuevo,'telefono':telefonoNuevo});cov_1skxrhixdm.s[156]++;usuarioService.update(idUsuarioCreado,patch).then(usuario=>{cov_1skxrhixdm.f[47]++;cov_1skxrhixdm.s[157]++;assert(usuario.id===idUsuarioCreado,'No encontro el usuario correcto');cov_1skxrhixdm.s[158]++;assert(usuario.celular===celularNuevo,'El usuario no tiene bien el celular');cov_1skxrhixdm.s[159]++;assert(usuario.telefono===telefonoNuevo,'El usuario no tiene bien el telefono');cov_1skxrhixdm.s[160]++;done();});});});