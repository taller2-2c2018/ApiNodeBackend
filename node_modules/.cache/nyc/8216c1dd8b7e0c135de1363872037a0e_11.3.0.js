'use strict';var cov_1qkqvkej4a=function(){var path='/usr/src/models/sequelize/rol.js',hash='ab5fd9ef6ab9f9fe6b286a75a7ad7d4adec60a13',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/usr/src/models/sequelize/rol.js',statementMap:{'0':{start:{line:2,column:16},end:{line:2,column:36}},'1':{start:{line:4,column:0},end:{line:78,column:1}},'2':{start:{line:6,column:14},end:{line:43,column:4}},'3':{start:{line:12,column:21},end:{line:12,column:25}},'4':{start:{line:13,column:10},end:{line:28,column:14}},'5':{start:{line:21,column:14},end:{line:23,column:15}},'6':{start:{line:22,column:16},end:{line:22,column:54}},'7':{start:{line:24,column:14},end:{line:24,column:27}},'8':{start:{line:27,column:14},end:{line:27,column:30}},'9':{start:{line:45,column:2},end:{line:47,column:3}},'10':{start:{line:46,column:4},end:{line:46,column:28}},'11':{start:{line:51,column:2},end:{line:76,column:3}},'12':{start:{line:52,column:4},end:{line:62,column:6}},'13':{start:{line:64,column:4},end:{line:74,column:6}},'14':{start:{line:77,column:2},end:{line:77,column:12}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:38},end:{line:78,column:1}},line:4},'1':{name:'(anonymous_1)',decl:{start:{line:11,column:18},end:{line:11,column:19}},loc:{start:{line:11,column:41},end:{line:29,column:9}},line:11},'2':{name:'(anonymous_2)',decl:{start:{line:19,column:18},end:{line:19,column:19}},loc:{start:{line:19,column:33},end:{line:25,column:13}},line:19},'3':{name:'(anonymous_3)',decl:{start:{line:26,column:19},end:{line:26,column:20}},loc:{start:{line:26,column:34},end:{line:28,column:13}},line:26},'4':{name:'(anonymous_4)',decl:{start:{line:45,column:26},end:{line:45,column:27}},loc:{start:{line:45,column:38},end:{line:47,column:3}},line:45},'5':{name:'(anonymous_5)',decl:{start:{line:51,column:18},end:{line:51,column:19}},loc:{start:{line:51,column:36},end:{line:76,column:3}},line:51}},branchMap:{'0':{loc:{start:{line:21,column:14},end:{line:23,column:15}},type:'if',locations:[{start:{line:21,column:14},end:{line:23,column:15}},{start:{line:21,column:14},end:{line:23,column:15}}],line:21},'1':{loc:{start:{line:21,column:18},end:{line:21,column:43}},type:'binary-expr',locations:[{start:{line:21,column:18},end:{line:21,column:21}},{start:{line:21,column:25},end:{line:21,column:43}}],line:21}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0},b:{'0':[0,0],'1':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var Sequelize=(cov_1qkqvkej4a.s[0]++,require('sequelize'));cov_1qkqvkej4a.s[1]++;module.exports=function(sequelize){cov_1qkqvkej4a.f[0]++;const Rol=(cov_1qkqvkej4a.s[2]++,sequelize.define('Rol',{nombre:{type:Sequelize.STRING,isUnique:true,validate:{isUnique:function(value,next){cov_1qkqvkej4a.f[1]++;var self=(cov_1qkqvkej4a.s[3]++,this);cov_1qkqvkej4a.s[4]++;Rol.find({where:{nombre:value}}).then(function(rol){cov_1qkqvkej4a.f[2]++;cov_1qkqvkej4a.s[5]++;// reject if a different user wants to use the same email
if((cov_1qkqvkej4a.b[1][0]++,rol)&&(cov_1qkqvkej4a.b[1][1]++,self.id!==rol.id)){cov_1qkqvkej4a.b[0][0]++;cov_1qkqvkej4a.s[6]++;return next('Nombre de rol ya en uso');}else{cov_1qkqvkej4a.b[0][1]++;}cov_1qkqvkej4a.s[7]++;return next();}).catch(function(err){cov_1qkqvkej4a.f[3]++;cov_1qkqvkej4a.s[8]++;return next(err);});}}},descripcion:Sequelize.STRING},{timestamps:true,underscored:true,tableName:'rol',indexes:[// Create a unique index
{unique:true,fields:['nombre']}]}));cov_1qkqvkej4a.s[9]++;Rol.getMsgInexistente=function(){cov_1qkqvkej4a.f[4]++;cov_1qkqvkej4a.s[10]++;return'Rol inexistente';};// Adding a class level method
cov_1qkqvkej4a.s[11]++;Rol.associate=function(models){cov_1qkqvkej4a.f[5]++;cov_1qkqvkej4a.s[12]++;Rol.belongsToMany(models.Usuario,{as:'Usuarios',through:{model:models.UsuarioRol},foreignKey:{name:'rol_id',allowNull:true,unique:true}});cov_1qkqvkej4a.s[13]++;Rol.belongsToMany(models.Permiso,{as:'Permisos',through:{model:models.RolPermiso},foreignKey:{name:'rol_id',allowNull:true,unique:true}});};cov_1qkqvkej4a.s[14]++;return Rol;};